{"ast":null,"code":"\n\n// import React, { useState, useEffect } from \"react\";\n// import 'bootstrap/dist/css/bootstrap.min.css';\n// import { Link, Routes, useNavigate } from \"react-router-dom\";\n// import LogoutButton from \"./logout/logout\";\n// import { useAuth } from \"./AuthContext\";\n\n// const AdminDashboard = () => {\n//   const { token, email } = useAuth();\n//   const [adminInfo, setAdminInfo] = useState(null);\n//   const [isLoading, setIsLoading] = useState(true);\n//   const [selectedPhoto, setSelectedPhoto] = useState(null);\n\n//   const navigate = useNavigate();\n\n//   const { isAdmin } = useAuth();\n\n// console.log(\"token:\", token)\n// console.log(\"admin:\",isAdmin)\n// console.log(\"email\",email)\n\n//   useEffect(() => {\n//     console.log(\"Effect started\"); // Add this\n\n//     const fetchAdminInfo = async () => {\n//       try {\n\n//         if (token && isAdmin && email) {\n//           console.log(\"Fetching admin data\"); // Add this\n\n//           const response = await fetch(`http://localhost:9002/data?email=${email}`, {\n//             headers: {\n//               Authorization: `Bearer ${token}`,\n//             },\n//           });\n\n//           if (response.status === 200) {\n\n//             console.log(\"Admin data fetched successfully\");\n\n//             const adminData = await response.json();\n//             setAdminInfo(adminData);\n//             setSelectedPhoto(adminData.photo);\n//           }\n\n//           setIsLoading(false);\n//           console.log(\"Loading completed\"); // Add this\n//         } else {\n//           console.error('Failed to fetch admin information');\n//         }\n//       } catch (error) {\n//         console.error('Fetch admin info error:', error);\n//       }\n//     };\n\n//     if (token && isAdmin && email) {\n//       console.log(\"Starting fetchAdminInfo\"); // Add this\n//       fetchAdminInfo();\n//     }\n//   }, [token, isAdmin, email, navigate]);\n\n//   return (\n//     <div className=\"container-fluid\">\n//       <div className=\"row\">\n//         <nav id=\"sidebar\" className=\"col-md-3 col-lg-2 d-md-block bg-light sidebar\">\n//           <div className=\"position-sticky\">\n//             <ul className=\"nav flex-column\">\n//               <li className=\"nav-item\">\n//                 <Link to=\"/admindashboard/ChatSystem\" className=\"nav-link\">\n//                   Chat System\n//                 </Link>\n//               </li>\n//               <li className=\"nav-item\">\n//                 <Link to=\"/admindashboard/form\" className=\"nav-link\">\n//                   Form\n//                 </Link>\n//               </li>\n//             </ul>\n//           </div>\n//         </nav>\n\n//         {/* Main content */}\n//         <main className=\"col-md-9 ms-sm-auto col-lg-10 px-md-4\">\n//           <div className=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom\">\n//             <h1 className=\"h2\">Admin Dashboard</h1>\n//             <LogoutButton />\n//           </div>\n\n//           {isLoading ? (\n//             <p>Loading admin data...</p>\n//           ) : (\n//             /* Display admin data when it's available */\n//             <div>\n//               <div>\n//                 {selectedPhoto !== null ? (\n//                   <div>\n//                     <img src={`data:image/jpeg;base64,${selectedPhoto}`}\n//                       alt=\"User Photo\"\n//                       style={{ maxWidth: '200px', borderRadius: '50%' }}\n//                     />\n//                   </div>\n//                 ) : (\n//                   <div>\n//                     {/* You can add an input for changing the photo here if needed */}\n//                   </div>\n//                 )}\n//               </div>\n//               <div className=\"mt-4\">\n//                 <p><strong>Name:</strong> {adminInfo.name}</p>\n//                 <p><strong>Email:</strong> {adminInfo.email}</p>\n//                 <p><strong>Admin Id:</strong> {adminInfo.adminId}</p>\n//                 <p><strong>Faculty:</strong> {adminInfo.faculty}</p>\n//               </div>\n//             </div>\n//           )}\n\n//           <Routes>\n//             {/* Define your admin-specific routes here */}\n//           </Routes>\n//         </main>\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default AdminDashboard;","map":{"version":3,"names":[],"sources":["C:/Users/Dell/OneDrive/Desktop/sem5/Project/New/new/src/components/adminDashboard.js"],"sourcesContent":["\r\n\r\n\r\n// import React, { useState, useEffect } from \"react\";\r\n// import 'bootstrap/dist/css/bootstrap.min.css';\r\n// import { Link, Routes, useNavigate } from \"react-router-dom\";\r\n// import LogoutButton from \"./logout/logout\";\r\n// import { useAuth } from \"./AuthContext\";\r\n\r\n// const AdminDashboard = () => {\r\n//   const { token, email } = useAuth();\r\n//   const [adminInfo, setAdminInfo] = useState(null);\r\n//   const [isLoading, setIsLoading] = useState(true);\r\n//   const [selectedPhoto, setSelectedPhoto] = useState(null);\r\n\r\n//   const navigate = useNavigate();\r\n\r\n//   const { isAdmin } = useAuth();\r\n\r\n// console.log(\"token:\", token)\r\n// console.log(\"admin:\",isAdmin)\r\n// console.log(\"email\",email)\r\n\r\n   \r\n//   useEffect(() => {\r\n//     console.log(\"Effect started\"); // Add this\r\n\r\n//     const fetchAdminInfo = async () => {\r\n//       try {\r\n       \r\n\r\n//         if (token && isAdmin && email) {\r\n//           console.log(\"Fetching admin data\"); // Add this\r\n\r\n//           const response = await fetch(`http://localhost:9002/data?email=${email}`, {\r\n//             headers: {\r\n//               Authorization: `Bearer ${token}`,\r\n//             },\r\n//           });\r\n\r\n//           if (response.status === 200) {\r\n\r\n//             console.log(\"Admin data fetched successfully\");\r\n\r\n//             const adminData = await response.json();\r\n//             setAdminInfo(adminData);\r\n//             setSelectedPhoto(adminData.photo);\r\n//           }\r\n\r\n//           setIsLoading(false);\r\n//           console.log(\"Loading completed\"); // Add this\r\n//         } else {\r\n//           console.error('Failed to fetch admin information');\r\n//         }\r\n//       } catch (error) {\r\n//         console.error('Fetch admin info error:', error);\r\n//       }\r\n//     };\r\n\r\n//     if (token && isAdmin && email) {\r\n//       console.log(\"Starting fetchAdminInfo\"); // Add this\r\n//       fetchAdminInfo();\r\n//     }\r\n//   }, [token, isAdmin, email, navigate]);\r\n\r\n//   return (\r\n//     <div className=\"container-fluid\">\r\n//       <div className=\"row\">\r\n//         <nav id=\"sidebar\" className=\"col-md-3 col-lg-2 d-md-block bg-light sidebar\">\r\n//           <div className=\"position-sticky\">\r\n//             <ul className=\"nav flex-column\">\r\n//               <li className=\"nav-item\">\r\n//                 <Link to=\"/admindashboard/ChatSystem\" className=\"nav-link\">\r\n//                   Chat System\r\n//                 </Link>\r\n//               </li>\r\n//               <li className=\"nav-item\">\r\n//                 <Link to=\"/admindashboard/form\" className=\"nav-link\">\r\n//                   Form\r\n//                 </Link>\r\n//               </li>\r\n//             </ul>\r\n//           </div>\r\n//         </nav>\r\n\r\n//         {/* Main content */}\r\n//         <main className=\"col-md-9 ms-sm-auto col-lg-10 px-md-4\">\r\n//           <div className=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom\">\r\n//             <h1 className=\"h2\">Admin Dashboard</h1>\r\n//             <LogoutButton />\r\n//           </div>\r\n\r\n//           {isLoading ? (\r\n//             <p>Loading admin data...</p>\r\n//           ) : (\r\n//             /* Display admin data when it's available */\r\n//             <div>\r\n//               <div>\r\n//                 {selectedPhoto !== null ? (\r\n//                   <div>\r\n//                     <img src={`data:image/jpeg;base64,${selectedPhoto}`}\r\n//                       alt=\"User Photo\"\r\n//                       style={{ maxWidth: '200px', borderRadius: '50%' }}\r\n//                     />\r\n//                   </div>\r\n//                 ) : (\r\n//                   <div>\r\n//                     {/* You can add an input for changing the photo here if needed */}\r\n//                   </div>\r\n//                 )}\r\n//               </div>\r\n//               <div className=\"mt-4\">\r\n//                 <p><strong>Name:</strong> {adminInfo.name}</p>\r\n//                 <p><strong>Email:</strong> {adminInfo.email}</p>\r\n//                 <p><strong>Admin Id:</strong> {adminInfo.adminId}</p>\r\n//                 <p><strong>Faculty:</strong> {adminInfo.faculty}</p>\r\n//               </div>\r\n//             </div>\r\n//           )}\r\n\r\n//           <Routes>\r\n//             {/* Define your admin-specific routes here */}\r\n//           </Routes>\r\n//         </main>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// export default AdminDashboard;\r\n\r\n"],"mappings":";;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAGA;AACA;;AAEA;AACA;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}